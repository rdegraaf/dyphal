<!DOCTYPE html>
<html>
<!--
  Master page for Dyphal, the Dynamic Photo Album.
  Copyright (c) Rennie deGraaf, 2005-2017.

  This program is free software; you can redistribute it and/or modify 
  it under the terms of the GNU General Public License as published by 
  the Free Software Foundation; either version 2 of the License, or (at 
  your option) version 3.

  This program is distributed in the hope that it will be useful, but 
  WITHOUT ANY WARRANTY; without even the implied warranty of 
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU 
  General Public License for more details.

  You should have received a copy of the GNU General Public License 
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
  <head>
    <meta charset="UTF-8"/>
    <meta name="Author" content="Rennie deGraaf"/>
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src 'self'; style-src 'self'; img-src 'self'; connect-src 'self';"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width"/>
    <title>Dyphal</title>
    <link rel="stylesheet" href="common.css"/>
    <link rel="stylesheet" href="album.css"/>
    <link rel="stylesheet" href="photo.css"/>
    <link rel="stylesheet" href="debug.css"/>
    <script type="text/javascript" src="dyphal.js"></script>
  </head>

  <body class="album">

    <input type="checkbox" value="help" name="helpCheckbox" id="helpCheckbox"/>
    <input type="checkbox" value="overlay" name="overlayCheckbox" id="overlayCheckbox"/>

    <div id="titlePanel" class="centerBlock">
      <h1 id="titleContent"></h1>
    </div>

    <div id="indexPanel">
      <h2 title="Return to index">
        <a id="indexLink" class="navigationlink" href="placeholder.png" rel="up">Return to index</a>
      </h2>
    </div>

    <div id="navigationPanel">
      <h2 id="prevImage" title="Previous photo">
        <a id="prevLink" class="navigationlink" href="placeholder.png" rel="prev">Previous photo</a>
      </h2>
      <span id="index"></span>
      <h2 id="nextImage" title="Next photo">
        <a id="nextLink" class="navigationlink" href="placeholder.png" rel="next">Next photo</a>
      </h2>
    </div>

    <div id="prevThumbPanel">
      <a id="prevThumbLink" class="navigationlink" href="placeholder.png" rel="prev">
        <img id="prevThumbImage" class="hnavigation" src="placeholder.png" alt="Previous photo thumbnail" title="Previous photo"/>
      </a>
    </div>

    <div id="nextThumbPanel">
      <a id="nextThumbLink" class="navigationlink" href="placeholder.png" rel="next">
        <img id="nextThumbImage" class="hnavigation" src="placeholder.png" alt="Next photo thumbnail" title="Next photo"/>
      </a>
    </div>

    <div id="contentPanel">
      <div id="warning">
        <p>This page requires JavaScript, but it appears to be disabled in your browser.</p>
        <p><a href="javascript.html">Why Dyphal requires JavaScript.</a></p>
      </div>
      <p id="description"></p>
      <ul id="thumbnailList">
        <!-- Photo thumbnails -->
      </ul>
      <label id="photoPanel" for="overlayCheckbox">
        <img id="photo" src="placeholder.png" alt="Photo"/>
      </label>
    </div>

    <label id="captionPanel" for="overlayCheckbox">
      <!-- Photo caption -->
    </label>

    <label id="propertyPanel" for="overlayCheckbox">
      <table id="propertyTable">
        <!-- Photo properties -->
      </table>
    </label>

    <label id="footerPanel" class="centerBlock" for="overlayCheckbox">
      <p id="footerContent"></p>
    </label>

    <label id="overlay" class="centerBlock" for="overlayCheckbox">
      <div id="photoOverlay"></div>
    </label>

    <label id="helpLink" for="helpCheckbox">
      <h2 id="helpToolTip" title="Help"></h2>
    </label>

    <label id="helpTextPanel" class="centerBlock" for="helpCheckbox">
      <div id="helpText">
        <h2>Dyphal Help</h2>
        <p>Dyphal, the Dynamic Photo Album, is designed to show photos at their optimum size for 
          your browser window.  It uses modern web standards with a minumum of hacks to support old 
          browsers.  All functionality is implemented using HTML, CSS, and client-side JavaScript; 
          the server is just a plain web server.  Everything should work properly with current 
          versions of major browsers.  It should work reasonably well with Microsoft Internet 
          Explorer 9, but will probably fail badly with older versions of MSIE.  </p>
        <p>The album has two views: album view and photo view. Navigation by mouse should be 
          straight-forward. Album view shows a list of thumbnails; click on one of them to enter 
          photo view. Photo view photos with comments and properties.  To advance to the next 
          photo, click on the thumbnail on the right side or the right arrow; to go to the previous 
          photo, click the thumbnail on the left side or the left arrow.  To return to album view 
          from photo view, click the up arrow.</p>
        <p>Clicking on the question mark in the top right corner in either album or photo view opens 
          this help page.  To exit help, click anywhere on the page.</p>
        <p>When in photo view, if the photo is being displayed at less than its full size, clicking 
          the photo will open a full-window overlay showing the photo at the largest size that will 
          fit in the window.  To return to the normal photo view, click anywhere on the page.</p>
        <p>When loaded in a small window (such as a smartphone browser), the album will use a 
          compact layout that omits comments and properties and instead shows the photo at the 
          largest size possible.  When using the compact layout, clicking on the photo will load 
          the comments and properties rather than the photo in the overlay.</p>
        <p>Navigation by touch is the same as by mouse.  Additionally, when in photo view, swiping 
          from the right will advance to the next photo and swiping from the left will return to the 
          previous photo.  Scrolling side-to-side should never be necessary; if it is for whatever 
          reason, use an 'L'-shaped gesture: swipe down slightly then to the side desired. </p>
        <h3>Key bindings</h3>
        <p>This site can also be navigated by keyboard:</p>
        <table>
          <thead>
            <tr>
              <th>Key</th>
              <th>Effect in photo view</th>
              <th>Effect in album view</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Enter</td>
              <td>Toggle between normal photo view and full-window photo view.</td>
              <td>Load photo view for the first photo in the album.</td>
            </tr>
            <tr>
              <td>Page Down</td>
              <td rowspan="2">Go to the next photo in the album.</td>
              <td rowspan="2">N/A</td>
            </tr>
            <tr>
              <td>Space</td>
            </tr>
            <tr>
              <td>Page Up</td>
              <td rowspan="2">Go to the previous photo in the album</td>
              <td rowspan="2">N/A</td>
            </tr>
            <tr>
              <td>Backspace*</td>
            </tr>
            <tr>
              <td>Home</td>
              <td>Return to album view</td>
              <td>N/A</td>
            </tr>
            <tr>
              <td>Escape*</td>
              <td>If overlay view or help are active, return to normal photo view.  
                Otherwise, return to album view.</td>
              <td>If help is active, return to album view.</td>
            </tr>
          </tbody>
          <sub>* In some browsers, Backspace and Escape have additional funtions that may take 
            effect instead of or in addition to the effects described here.</sub>
        </table>
        <p>Version VERSION, DATE</p>
        <p><a href="README.html">About Dyphal.</a></p>
      </div>
    </label>

  </body>
</html>
